% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/CI_CheckDataQuality.R
\name{CheckDataQuality}
\alias{CheckDataQuality}
\title{Check data quality for causalimages analyses}
\usage{
CheckDataQuality(
  obsW = NULL,
  obsY = NULL,
  imageKeysOfUnits = NULL,
  uniqueImageKeys = NULL,
  acquireImageFxn = NULL,
  X = NULL,
  file = NULL,
  dataType = "image",
  batchSize = NULL,
  learningRateMax = NULL,
  nSGD = NULL,
  testFrac = NULL,
  checkContext = "pre_analysis",
  stopOnError = TRUE,
  quiet = FALSE
)
}
\arguments{
\item{obsW}{A numeric vector where 0's correspond to control and 1's to treated units (optional).}

\item{obsY}{A numeric vector containing observed outcomes (optional).}

\item{imageKeysOfUnits}{A vector mapping observations to image keys (optional).}

\item{uniqueImageKeys}{A vector of unique image identifiers for tfrecord writing (optional).}

\item{acquireImageFxn}{A function returning image arrays given keys (optional).}

\item{X}{An optional numeric matrix of tabular covariates (optional).}

\item{file}{Path to a tfrecord file (optional).}

\item{dataType}{String: "image" or "video". Default = "image".}

\item{batchSize}{Integer for batch size validation. Default = NULL.}

\item{learningRateMax}{Numeric for learning rate validation. Default = NULL.}

\item{nSGD}{Integer for SGD iterations validation. Default = NULL.}

\item{testFrac}{Numeric for test fraction validation. Default = NULL.}

\item{checkContext}{String: "pre_write" for WriteTfRecord checks, "pre_analysis" for analysis checks. Default = "pre_analysis".}

\item{stopOnError}{Logical. If TRUE, stops on first error. If FALSE, collects all errors. Default = TRUE.}

\item{quiet}{Logical. If TRUE, suppresses informative messages. Default = FALSE.}
}
\value{
Invisibly returns a list with:
\itemize{
\item \code{valid} Logical indicating if all checks passed.
\item \code{errors} Character vector of error messages (empty if valid).
\item \code{warnings} Character vector of warning messages.
\item \code{summary} Named list with validation results by category.
}
}
\description{
Validates input data structures before WriteTfRecord or analysis functions.
Catches common errors early with informative messages explaining issues and fixes.
}
\examples{
# Check data before writing TfRecord
result <- CheckDataQuality(
  uniqueImageKeys = unique(imageKeys),
  acquireImageFxn = myImageLoader,
  file = "data.tfrecord",
  checkContext = "pre_write"
)

# Check data before analysis
result <- CheckDataQuality(
  obsW = treatment,
  obsY = outcome,
  imageKeysOfUnits = imageKeys,
  file = "data.tfrecord",
  checkContext = "pre_analysis"
)

}
